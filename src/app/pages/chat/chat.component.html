<div class="bigContainer">
    <div class="topContainer">
        <div class="leftContainer">
            
                @for(message of messages; track message) {
                <div class="userData">
                    <img [src]="message.user_avatar" alt="Avatar" class="avatarBox" />
                    <p class="userBox">{{ message.user_name }}</p>
                    <p class="availableToPlay" [ngStyle]="{'color': available_to_play ? '#11ec48' : '#707070'}">{{
                        available_to_play ? 'DISPONIBLE' :
                        'AUSENTE' }} </p>
                </div>
                }
            
            <div class="astroImg">
                <img class="astro" src="../../../assets/Images/astro.png" alt="imagen de Astro">
            </div>
        </div>

        <div class="rightContainer">
            <div class="aboveChat">
                @if(thread){
                <div class="threadTitle">
                    <p class="subject">Juego: <span>{{ thread.game }}</span>  Plataforma: <span>{{ thread.platform }}</span></p>
                    <p class="threadText">#{{ thread.subject }}</p>
                </div>
                <div>
                    <button type="button" class="returnBtn" routerLink="/community">Volver a hilos</button>
                </div>
                }
            </div>
            <div class="chatContainer">
                @for(message of messages; track message) {
                <div [class.activeUser]="message.user_id === activeUserId" class="message">
                    <div class="imgusername">
                        <img [src]="message.user_avatar" alt="Avatar" class="avatar" />
                        <p class="messageUser">{{ message.user_name }}</p>
                    </div>
                    <p class="messageText">{{ message.text }}</p>
                    <p class="messageDate">{{ message.date | date:'short' }}</p>
                </div>
                }
            </div>
            <!-- <div class="chatContainer" >
                @for(message of messages; track message) {
                <div [class.activeUser]="message.user_id === activeUserId" class="message">
                    <p class="messageUser">User- {{message.user_id}}</p>
                
                    <p class="messageText"> {{message.text}}</p>
                    <p class="messageDate">{{message.date | date:'short'}}</p>
                </div>}
            </div> -->
            <div class="bottomContainer">
                <input type="text" [(ngModel)]="messageText" class="msg" placeholder="Escribe aquÃ­ tu mensaje"
                    #inputMessage>
                <button type="button" (click)="addMessageToChat(inputMessage)" class="sendBtn">Enviar</button>
            </div>
        </div>
    </div>


</div>